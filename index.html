<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Fjäll Green Tech | Spatial Experience</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>
    
    <!-- Google Fonts: Inter & Space Grotesk -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Space+Grotesk:wght@500;700&display=swap" rel="stylesheet">

    <style>
        :root {
            --glass-border: rgba(255, 255, 255, 0.08);
            --glass-bg: rgba(20, 20, 25, 0.7);
            --glass-highlight: rgba(255, 255, 255, 0.05);
        }

        body {
            font-family: 'Inter', sans-serif;
            background-color: #000;
            color: white;
            overflow-x: hidden;
            -webkit-tap-highlight-color: transparent;
        }

        .font-display {
            font-family: 'Space Grotesk', sans-serif;
        }

        /* Sleek Glass Material */
        .ios-glass {
            background: var(--glass-bg);
            backdrop-filter: blur(24px);
            -webkit-backdrop-filter: blur(24px);
            border: 1px solid var(--glass-border);
            box-shadow: 
                0 4px 30px rgba(0, 0, 0, 0.2),
                inset 0 1px 0 0 rgba(255, 255, 255, 0.1);
        }

        .ios-card {
            background: linear-gradient(160deg, rgba(255,255,255,0.03) 0%, rgba(255,255,255,0.01) 100%);
            border-radius: 32px;
            border: 1px solid var(--glass-border);
            transition: all 0.5s cubic-bezier(0.16, 1, 0.3, 1);
            position: relative;
            overflow: hidden;
        }

        /* Glow effect on hover */
        .ios-card::before {
            content: '';
            position: absolute;
            top: 0; left: 0; right: 0; height: 1px;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            opacity: 0.5;
        }

        .ios-card:hover {
            transform: translateY(-4px) scale(1.01);
            background: linear-gradient(160deg, rgba(255,255,255,0.06) 0%, rgba(255,255,255,0.02) 100%);
            box-shadow: 0 20px 50px -10px rgba(0,0,0,0.5);
            border-color: rgba(255,255,255,0.15);
        }

        /* Sleek Button */
        .ios-btn {
            background: white;
            color: black;
            border-radius: 999px;
            font-weight: 600;
            letter-spacing: -0.01em;
            transition: transform 0.2s cubic-bezier(0.34, 1.56, 0.64, 1);
        }
        
        .ios-btn:active {
            transform: scale(0.94);
        }

        /* Custom Icon Squircle */
        .icon-squircle {
            mask-image: url("data:image/svg+xml,%3Csvg width='200' height='200' viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M100,0 C20,0 0,20 0,100 C0,180 20,200 100,200 C180,200 200,180 200,100 C200,20 180,0 100,0 Z'/%3E%3C/svg%3E");
            -webkit-mask-image: url("data:image/svg+xml,%3Csvg width='200' height='200' viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M100,0 C20,0 0,20 0,100 C0,180 20,200 100,200 C180,200 200,180 200,100 C200,20 180,0 100,0 Z'/%3E%3C/svg%3E");
            mask-size: 100% 100%;
            -webkit-mask-size: 100% 100%;
        }

        /* Aurora Background */
        .aurora-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            z-index: -1;
            background: #050505;
        }
        
        .blob {
            position: absolute;
            border-radius: 50%;
            filter: blur(90px);
            opacity: 0.3;
            animation: float 10s infinite ease-in-out;
            will-change: transform;
        }

        @keyframes float {
            0%, 100% { transform: translate(0, 0); }
            50% { transform: translate(30px, -30px); }
        }

        /* Construction Elements */
        .roof-shape {
            width: 0; 
            height: 0; 
            border-left: 50px solid transparent;
            border-right: 50px solid transparent;
            border-bottom: 35px solid;
        }
        
        /* Exploded View Animations */
        .explode-roof {
            transform: translateY(-50px);
            transition: transform 0.8s cubic-bezier(0.34, 1.56, 0.64, 1);
        }
        
        .explode-walls {
            transform: translateY(-10px);
            transition: transform 0.8s cubic-bezier(0.34, 1.56, 0.64, 1);
        }

        .implode {
            transform: translateY(0);
            transition: transform 0.8s cubic-bezier(0.34, 1.56, 0.64, 1);
        }
    </style>
</head>
<body class="antialiased selection:bg-emerald-500/30">

    <!-- Background -->
    <div class="aurora-bg">
        <div class="blob bg-emerald-600/40 w-[80vw] h-[80vw] md:w-96 md:h-96 top-0 left-0 md:left-1/4 animate-pulse"></div>
        <div class="blob bg-blue-700/40 w-[90vw] h-[90vw] md:w-[500px] md:h-[500px] bottom-0 right-0" style="animation-delay: 2s"></div>
        <div class="blob bg-purple-900/30 w-64 h-64 top-1/2 left-1/2 transform -translate-x-1/2" style="animation-delay: 4s"></div>
    </div>

    <!-- Dynamic Island Nav -->
    <nav class="fixed top-4 left-1/2 transform -translate-x-1/2 z-50 w-[94%] max-w-2xl transition-all duration-300">
        <div class="ios-glass rounded-[2rem] p-1.5 pl-4 pr-1.5 flex justify-between items-center shadow-2xl">
            <div class="flex items-center gap-3 cursor-pointer" onclick="scrollToId('hero')">
                <div class="w-9 h-9 icon-squircle bg-gradient-to-br from-emerald-400 to-emerald-600 flex items-center justify-center shadow-lg shadow-emerald-500/20">
                    <span class="font-display font-bold text-black text-lg">F</span>
                </div>
                <span class="font-display font-bold text-white tracking-tight hidden sm:block">Fjäll</span>
            </div>
            
            <div class="hidden md:flex bg-white/5 rounded-full p-1 border border-white/5">
                <button onclick="scrollToId('comparison')" class="px-5 py-2 rounded-full text-xs font-semibold text-gray-400 hover:text-white hover:bg-white/10 transition-all">RACE</button>
                <button onclick="scrollToId('showroom')" class="px-5 py-2 rounded-full text-xs font-semibold text-gray-400 hover:text-white hover:bg-white/10 transition-all">STUDIO</button>
                <button onclick="scrollToId('tech')" class="px-5 py-2 rounded-full text-xs font-semibold text-gray-400 hover:text-white hover:bg-white/10 transition-all">SPECS</button>
            </div>

            <button onclick="scrollToId('showroom')" class="ios-btn px-5 py-2.5 text-xs font-bold flex items-center gap-2 group">
                <span class="hidden xs:inline">Configurator</span>
                <span class="xs:hidden">Start</span>
                <div class="bg-black rounded-full p-0.5 transition-transform group-hover:translate-x-0.5">
                    <i data-lucide="arrow-right" class="w-3 h-3 text-white"></i>
                </div>
            </button>
        </div>
    </nav>

    <!-- Hero Section -->
    <section id="hero" class="min-h-screen flex flex-col justify-center relative px-6 pt-24 pb-12">
        <div class="text-center max-w-4xl mx-auto z-10 w-full">
            <div class="inline-flex items-center px-4 py-1.5 rounded-full bg-emerald-500/10 border border-emerald-500/20 text-emerald-400 text-xs font-bold uppercase tracking-wider mb-8 backdrop-blur-md shadow-[0_0_20px_rgba(16,185,129,0.1)]">
                <span class="w-1.5 h-1.5 rounded-full bg-emerald-400 mr-2 animate-pulse"></span>
                Spatial Platform 2.0
            </div>
            <h1 class="font-display text-5xl md:text-7xl lg:text-9xl font-bold tracking-tighter mb-8 leading-[1.05] drop-shadow-2xl">
                Build Faster.<br>
                <span class="text-transparent bg-clip-text bg-gradient-to-r from-emerald-300 via-cyan-300 to-blue-400">No Compromise.</span>
            </h1>
            <p class="text-lg md:text-xl text-gray-400 mb-10 max-w-xl mx-auto font-light leading-relaxed">
                Experience the modular architecture system engineered for Swedish precision and Indonesian resilience.
            </p>
            
            <div class="flex flex-col sm:flex-row justify-center gap-4 w-full sm:w-auto">
                <button onclick="scrollToId('showroom')" class="ios-btn py-4 px-8 text-base shadow-[0_0_50px_-10px_rgba(255,255,255,0.3)] hover:shadow-[0_0_60px_-5px_rgba(255,255,255,0.4)] transition-shadow">
                    Open Studio
                </button>
                <button onclick="scrollToId('comparison')" class="py-4 px-8 rounded-full border border-white/10 bg-white/5 hover:bg-white/10 backdrop-blur-md text-white text-base font-semibold transition-all flex items-center justify-center gap-2 group">
                    <div class="w-6 h-6 rounded-full bg-white/10 flex items-center justify-center group-hover:scale-110 transition-transform">
                        <i data-lucide="play" class="w-3 h-3 fill-current"></i>
                    </div>
                    Run Simulation
                </button>
            </div>
        </div>
    </section>

    <!-- Comparison Simulator -->
    <section id="comparison" class="py-20 px-4 relative">
        <div class="max-w-6xl mx-auto">
            <div class="text-center mb-12">
                <h2 class="font-display text-3xl md:text-5xl font-bold mb-4">Velocity Test</h2>
                <p class="text-gray-400">Real-time construction analysis.</p>
            </div>

            <div class="ios-glass rounded-[2.5rem] p-1.5 overflow-hidden shadow-2xl">
                <div class="bg-black/60 rounded-[2.2rem] p-6 md:p-12 relative overflow-hidden">
                    <div class="absolute inset-0 bg-gradient-to-b from-white/5 to-transparent pointer-events-none"></div>
                    
                    <!-- Visual Construction Area -->
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-12">
                        
                        <!-- Manual Visual -->
                        <div class="relative h-56 md:h-72 bg-white/5 rounded-3xl border border-white/10 flex items-end justify-center overflow-hidden group">
                            <div class="absolute inset-0 bg-[url('https://grainy-gradients.vercel.app/noise.svg')] opacity-20 mix-blend-overlay"></div>
                            <div class="absolute top-5 left-5 flex items-center gap-2">
                                <div class="w-2 h-2 rounded-full bg-orange-500 animate-pulse"></div>
                                <span class="text-[10px] font-bold text-gray-400 uppercase tracking-widest">Legacy Site</span>
                            </div>
                            
                            <div class="relative w-32 h-32 mb-8 transform group-hover:scale-105 transition-transform duration-700">
                                <div id="m-foundation" class="absolute bottom-0 w-full h-2 bg-stone-600 opacity-0 transition-opacity duration-500 rounded-sm"></div>
                                <div id="m-frame" class="absolute bottom-2 left-0 w-full h-20 border-l-[3px] border-r-[3px] border-orange-800/60 opacity-0 transition-opacity duration-500"></div>
                                <div id="m-walls" class="absolute bottom-2 left-1 right-1 h-20 bg-orange-700/80 opacity-0 transition-opacity duration-500 backdrop-blur-sm"></div>
                                <div id="m-roof" class="absolute bottom-[88px] left-[-18px] roof-shape border-b-orange-700/90 opacity-0 transition-all duration-500 translate-y-4 filter drop-shadow-lg"></div>
                                
                                <div id="m-delay-alert" class="absolute inset-0 flex items-center justify-center opacity-0 transition-opacity duration-300 z-10 scale-0 transition-transform">
                                    <div class="bg-red-500/20 backdrop-blur-xl px-4 py-3 rounded-2xl border border-red-500/40 flex flex-col items-center shadow-lg">
                                        <i data-lucide="alert-triangle" class="w-5 h-5 text-red-400 mb-1"></i>
                                        <span class="text-[10px] font-bold text-red-200 uppercase tracking-wide">Delay</span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Fjall Visual -->
                        <div class="relative h-56 md:h-72 bg-gradient-to-br from-emerald-900/20 to-black rounded-3xl border border-emerald-500/20 flex items-end justify-center overflow-hidden group shadow-[inset_0_0_40px_rgba(16,185,129,0.1)]">
                            <div class="absolute top-5 left-5 flex items-center gap-2">
                                <div class="w-2 h-2 rounded-full bg-emerald-500 shadow-[0_0_10px_#10B981]"></div>
                                <span class="text-[10px] font-bold text-emerald-400 uppercase tracking-widest">Fjäll Modular</span>
                            </div>
                            
                            <div class="relative w-32 h-32 mb-8 transform group-hover:scale-105 transition-transform duration-700">
                                <div id="f-foundation" class="absolute bottom-0 w-full h-2 bg-gray-500 opacity-0 transition-opacity duration-300 rounded-sm shadow-[0_0_15px_rgba(255,255,255,0.2)]"></div>
                                <div id="f-module" class="absolute bottom-2 left-0 w-full bg-emerald-500/10 border border-emerald-400/30 h-0 transition-all duration-300 overflow-hidden backdrop-blur-sm">
                                    <div class="w-full h-full relative">
                                        <div class="absolute top-1/4 left-1/4 w-1/2 h-1/2 bg-emerald-400/10 rounded-lg border border-emerald-400/20"></div>
                                    </div>
                                </div>
                                <div id="f-roof" class="absolute bottom-[88px] left-[-18px] roof-shape border-b-emerald-600 opacity-0 transition-all duration-700 -translate-y-10 filter drop-shadow-[0_10px_20px_rgba(0,0,0,0.5)]"></div>
                            </div>
                        </div>
                    </div>

                    <!-- Race Track -->
                    <div class="space-y-6">
                        <!-- Manual -->
                        <div>
                            <div class="flex justify-between mb-2 text-xs font-semibold">
                                <span class="text-orange-400 tracking-wider">TRADITIONAL</span>
                                <span id="manual-pct" class="font-mono text-orange-400">0%</span>
                            </div>
                            <div class="h-1.5 bg-white/5 rounded-full overflow-hidden">
                                <div id="manual-bar" class="h-full bg-gradient-to-r from-orange-600 to-red-500 w-0 transition-all duration-75"></div>
                            </div>
                            <div id="manual-status" class="h-5 mt-2 text-[10px] font-bold text-red-400 uppercase tracking-wide flex items-center gap-1"></div>
                        </div>

                        <!-- Fjall -->
                        <div>
                             <div class="flex justify-between mb-2 text-xs font-semibold">
                                <span class="text-emerald-400 tracking-wider">FJÄLL SYSTEM</span>
                                <span id="fjall-pct" class="font-mono text-emerald-400">0%</span>
                            </div>
                            <div class="h-1.5 bg-white/5 rounded-full overflow-hidden">
                                <div id="fjall-bar" class="h-full bg-gradient-to-r from-emerald-500 to-cyan-400 w-0 transition-all duration-75 shadow-[0_0_15px_rgba(16,185,129,0.4)]"></div>
                            </div>
                            <div id="fjall-status" class="h-5 mt-2 text-[10px] font-bold text-emerald-400 uppercase tracking-wide flex items-center gap-1"></div>
                        </div>
                    </div>

                    <div class="mt-10 flex justify-center">
                        <button id="start-btn" onclick="startRace()" class="ios-btn px-8 py-3 text-sm hover:scale-105">
                            Start Simulation
                        </button>
                        <button id="reset-btn" onclick="resetRace()" class="hidden px-8 py-3 rounded-full border border-white/20 text-white hover:bg-white/10 text-sm font-semibold gap-2 items-center transition-all">
                            <i data-lucide="rotate-ccw" class="w-3 h-3"></i> Reset
                        </button>
                    </div>

                </div>
            </div>
        </div>
    </section>

    <!-- Immersive Studio -->
    <section id="showroom" class="py-20 px-4">
        <div class="max-w-7xl mx-auto">
            <div class="flex flex-col md:flex-row items-start md:items-end justify-between mb-10 px-2">
                <div>
                    <h2 class="font-display text-4xl md:text-5xl font-bold mb-2">Immersive Studio</h2>
                    <p class="text-gray-400 text-sm md:text-base">Configure environment & specs.</p>
                </div>
                
                <div class="mt-6 md:mt-0 flex gap-4">
                    <!-- Cost Display -->
                    <div class="ios-glass px-6 py-2 rounded-full border border-white/10">
                        <div class="text-[9px] uppercase tracking-widest text-emerald-400 font-bold mb-1">Est. Cost</div>
                        <div id="est-cost" class="text-xl font-display font-bold text-white leading-none">$45,000</div>
                    </div>
                </div>
            </div>

            <div class="grid grid-cols-1 lg:grid-cols-12 gap-6">
                
                <!-- Left: Controls -->
                <div class="lg:col-span-3 space-y-4 order-2 lg:order-1">
                    <!-- Environment Selector -->
                    <div class="ios-glass p-5 rounded-[2rem]">
                        <h3 class="text-[10px] font-bold text-gray-500 uppercase tracking-widest mb-4 pl-1">Environment</h3>
                        <div class="grid grid-cols-3 gap-2" id="env-selector"></div>
                    </div>

                    <!-- Model Selector -->
                    <div class="ios-glass p-5 rounded-[2rem]">
                        <h3 class="text-[10px] font-bold text-gray-500 uppercase tracking-widest mb-4 pl-1">Structure Type</h3>
                        <div class="space-y-2" id="model-selector"></div>
                    </div>

                    <!-- Size Selector -->
                    <div class="ios-glass p-5 rounded-[2rem]">
                        <h3 class="text-[10px] font-bold text-gray-500 uppercase tracking-widest mb-4 pl-1">Dimensions</h3>
                        <div class="flex flex-col gap-2" id="size-selector"></div>
                    </div>
                </div>

                <!-- Center: Visualizer -->
                <div class="lg:col-span-6 order-1 lg:order-2">
                    <div class="ios-card h-[400px] lg:h-[700px] relative flex flex-col justify-between group bg-gradient-to-b from-gray-900 to-black overflow-hidden transition-colors duration-700" id="visualizer-card">
                        
                        <!-- Environment Background Layer -->
                        <div id="env-bg" class="absolute inset-0 z-0 transition-opacity duration-700 opacity-50"></div>

                        <!-- Controls Overlay -->
                        <div class="absolute top-4 right-4 z-20 flex flex-col gap-2">
                            <button onclick="toggleExploded()" id="exploded-btn" class="ios-glass px-3 py-1.5 rounded-full text-[10px] font-bold flex items-center gap-2 hover:bg-white/10 transition-colors border-white/5">
                                <i data-lucide="layers" class="w-3 h-3"></i>
                                <span id="exploded-text">EXPLODED VIEW</span>
                            </button>
                            <button onclick="toggleXray()" id="xray-btn" class="ios-glass px-3 py-1.5 rounded-full text-[10px] font-bold flex items-center gap-2 hover:bg-white/10 transition-colors border-white/5">
                                <i data-lucide="scan" class="w-3 h-3"></i>
                                <span id="xray-text">X-RAY OFF</span>
                            </button>
                        </div>

                        <!-- Canvas -->
                        <div id="visual-container" class="flex-grow flex items-center justify-center relative transition-transform duration-700 lg:group-hover:scale-105 p-8 z-10"></div>

                        <!-- Info Bar -->
                        <div class="mx-4 mb-4 p-4 ios-glass rounded-2xl flex justify-between items-center backdrop-blur-xl border-white/5 z-20">
                            <div class="text-center">
                                <div class="text-[9px] text-gray-500 uppercase font-bold tracking-wider mb-1">Timeline</div>
                                <div class="text-lg font-bold text-white" id="stat-time">-- Days</div>
                            </div>
                            <div class="h-6 w-px bg-white/10"></div>
                            <div class="text-center">
                                <div class="text-[9px] text-gray-500 uppercase font-bold tracking-wider mb-1">Seismic</div>
                                <div class="text-lg font-bold text-emerald-400">8.0 SR</div>
                            </div>
                            <div class="h-6 w-px bg-white/10"></div>
                            <div class="text-center">
                                <div class="text-[9px] text-gray-500 uppercase font-bold tracking-wider mb-1">Warranty</div>
                                <div class="text-lg font-bold text-white">20y</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Right: Stats -->
                <div class="lg:col-span-3 space-y-4 order-3">
                    <div class="ios-glass p-6 rounded-[2rem]">
                        <h3 class="text-[10px] font-bold text-gray-500 uppercase tracking-widest mb-6 pl-1">Analytics</h3>
                        
                         <!-- Efficiency Score -->
                        <div class="flex items-center gap-4 mb-6">
                            <div class="relative w-12 h-12">
                                <svg class="w-full h-full transform -rotate-90">
                                    <circle cx="24" cy="24" r="20" stroke="rgba(255,255,255,0.1)" stroke-width="4" fill="none"></circle>
                                    <circle id="score-ring" cx="24" cy="24" r="20" stroke="#34D399" stroke-width="4" fill="none" stroke-dasharray="125.6" stroke-dashoffset="125.6" stroke-linecap="round" class="transition-all duration-1000 ease-out"></circle>
                                </svg>
                                <div class="absolute inset-0 flex items-center justify-center font-bold text-sm" id="eff-score">0</div>
                            </div>
                            <div class="text-xs text-gray-400">
                                <div class="text-white font-bold">Efficiency Score</div>
                                Based on speed, resilience & eco-impact.
                            </div>
                        </div>

                        <!-- Rings -->
                        <div class="space-y-6">
                            <div>
                                <div class="flex justify-between mb-2 items-center">
                                    <span class="text-xs font-semibold flex items-center gap-2">
                                        <div class="w-1.5 h-1.5 rounded-full bg-blue-500"></div> Speed
                                    </span>
                                    <span id="val-speed" class="text-xs font-mono text-blue-400">0</span>
                                </div>
                                <div class="h-1.5 bg-gray-800 rounded-full overflow-hidden">
                                    <div id="bar-speed" class="h-full bg-blue-500 rounded-full w-0 transition-all duration-1000"></div>
                                </div>
                            </div>
                            <div>
                                <div class="flex justify-between mb-2 items-center">
                                    <span class="text-xs font-semibold flex items-center gap-2">
                                        <div class="w-1.5 h-1.5 rounded-full bg-orange-500"></div> Resilience
                                    </span>
                                    <span id="val-res" class="text-xs font-mono text-orange-400">0</span>
                                </div>
                                <div class="h-1.5 bg-gray-800 rounded-full overflow-hidden">
                                    <div id="bar-res" class="h-full bg-orange-500 rounded-full w-0 transition-all duration-1000"></div>
                                </div>
                            </div>
                            <div>
                                <div class="flex justify-between mb-2 items-center">
                                    <span class="text-xs font-semibold flex items-center gap-2">
                                        <div class="w-1.5 h-1.5 rounded-full bg-emerald-500"></div> Eco
                                    </span>
                                    <span id="val-eco" class="text-xs font-mono text-emerald-400">0</span>
                                </div>
                                <div class="h-1.5 bg-gray-800 rounded-full overflow-hidden">
                                    <div id="bar-eco" class="h-full bg-emerald-500 rounded-full w-0 transition-all duration-1000"></div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Impact -->
                    <div class="ios-card p-6 bg-gradient-to-br from-emerald-950 to-black border-emerald-900/30">
                        <div class="text-[9px] text-emerald-400/70 uppercase tracking-widest mb-2 font-bold">Time Saved</div>
                        <div class="text-4xl font-display font-bold text-white mb-1 tracking-tight" id="time-saved">--</div>
                        <div class="text-[10px] text-gray-500">vs. Traditional Methods</div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Tech Specs -->
    <section id="tech" class="py-20 px-4 bg-black/40">
        <div class="max-w-7xl mx-auto">
             <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4">
                
                <!-- Spec Cards -->
                <div class="ios-card p-6 group cursor-default">
                    <div class="w-14 h-14 icon-squircle bg-gradient-to-br from-blue-500/20 to-blue-600/5 border border-blue-500/20 flex items-center justify-center mb-6 group-hover:scale-110 transition-transform duration-500 shadow-[0_0_20px_rgba(59,130,246,0.1)]">
                        <i data-lucide="wind" class="text-blue-400 w-6 h-6"></i>
                    </div>
                    <h3 class="text-base font-bold mb-2">Seismic Proof</h3>
                    <p class="text-gray-400 text-xs leading-relaxed">Flexing Light Gauge Steel (LGS) frame technology withstands >8.0 SR tremors.</p>
                </div>

                <div class="ios-card p-6 group cursor-default">
                    <div class="w-14 h-14 icon-squircle bg-gradient-to-br from-red-500/20 to-red-600/5 border border-red-500/20 flex items-center justify-center mb-6 group-hover:scale-110 transition-transform duration-500 shadow-[0_0_20px_rgba(239,68,68,0.1)]">
                        <i data-lucide="flame" class="text-red-400 w-6 h-6"></i>
                    </div>
                    <h3 class="text-base font-bold mb-2">Class A Fire</h3>
                    <p class="text-gray-400 text-xs leading-relaxed">Non-combustible materials ensure maximum safety ratings for occupants.</p>
                </div>

                <div class="ios-card p-6 group cursor-default">
                    <div class="w-14 h-14 icon-squircle bg-gradient-to-br from-orange-500/20 to-orange-600/5 border border-orange-500/20 flex items-center justify-center mb-6 group-hover:scale-110 transition-transform duration-500 shadow-[0_0_20px_rgba(249,115,22,0.1)]">
                        <i data-lucide="bug" class="text-orange-400 w-6 h-6"></i>
                    </div>
                    <h3 class="text-base font-bold mb-2">Pest Immune</h3>
                    <p class="text-gray-400 text-xs leading-relaxed">Steel cannot be eaten. Zero risk of termite damage in tropical climates.</p>
                </div>

                <div class="ios-card p-6 group cursor-default">
                    <div class="w-14 h-14 icon-squircle bg-gradient-to-br from-yellow-500/20 to-yellow-600/5 border border-yellow-500/20 flex items-center justify-center mb-6 group-hover:scale-110 transition-transform duration-500 shadow-[0_0_20px_rgba(234,179,8,0.1)]">
                        <i data-lucide="zap" class="text-yellow-400 w-6 h-6"></i>
                    </div>
                    <h3 class="text-base font-bold mb-2">Energy Efficient</h3>
                    <p class="text-gray-400 text-xs leading-relaxed">Precision insulation reduces cooling costs by 40%.</p>
                </div>

             </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="py-12 border-t border-white/5 bg-black">
        <div class="max-w-7xl mx-auto px-4 text-center">
             <div class="inline-flex items-center gap-3 mb-6 opacity-40 hover:opacity-100 transition-opacity cursor-pointer">
                <div class="w-6 h-6 icon-squircle bg-emerald-600 flex items-center justify-center shadow-lg">
                    <span class="text-[10px] font-bold text-black">F</span>
                </div>
                <span class="font-bold tracking-tight text-sm">Fjäll Green Tech</span>
            </div>
            <p class="text-gray-600 text-xs">&copy; 2026 Fjäll Green Tech. Future Built.</p>
        </div>
    </footer>

    <!-- Logic -->
    <script>
        lucide.createIcons();

        // --- Construction Simulator ---
        let raceIntervalM, raceIntervalF;
        let isRacing = false;

        function startRace() {
            if (isRacing) return;
            isRacing = true;
            document.getElementById('start-btn').classList.add('hidden');
            document.getElementById('reset-btn').classList.remove('hidden');
            document.getElementById('reset-btn').classList.add('flex');

            // Elements
            const els = {
                m: {
                    bar: document.getElementById('manual-bar'),
                    pct: document.getElementById('manual-pct'),
                    status: document.getElementById('manual-status'),
                    found: document.getElementById('m-foundation'),
                    frame: document.getElementById('m-frame'),
                    walls: document.getElementById('m-walls'),
                    roof: document.getElementById('m-roof'),
                    delay: document.getElementById('m-delay-alert')
                },
                f: {
                    bar: document.getElementById('fjall-bar'),
                    pct: document.getElementById('fjall-pct'),
                    status: document.getElementById('fjall-status'),
                    found: document.getElementById('f-foundation'),
                    mod: document.getElementById('f-module'),
                    roof: document.getElementById('f-roof')
                }
            };

            let progM = 0, progF = 0;

            // Manual Loop
            raceIntervalM = setInterval(() => {
                if (Math.random() > 0.85) {
                    els.m.delay.classList.remove('scale-0');
                    els.m.delay.style.opacity = '1';
                    setTimeout(() => {
                        els.m.delay.style.opacity = '0';
                        els.m.delay.classList.add('scale-0');
                    }, 800);
                    return;
                }
                
                progM += 0.3;
                if(progM > 100) progM = 100;
                
                els.m.bar.style.width = progM + "%";
                els.m.pct.innerText = Math.round(progM) + "%";

                if(progM > 10) els.m.found.style.opacity = '1';
                if(progM > 35) els.m.frame.style.opacity = '1';
                if(progM > 65) els.m.walls.style.opacity = '1';
                if(progM > 90) {
                    els.m.roof.style.opacity = '1';
                    els.m.roof.style.transform = 'translateY(0)';
                }

                if (progM > 20 && progM < 21) els.m.status.innerHTML = `<i data-lucide="cloud-rain" class="w-3 h-3"></i> Weather Delay`;
                if (progM > 50 && progM < 51) els.m.status.innerHTML = `<i data-lucide="alert-circle" class="w-3 h-3"></i> Supply Issue`;
                if (progM >= 21 && progM < 50) lucide.createIcons();
                
                if (progM >= 100) clearInterval(raceIntervalM);
            }, 50);

            // Fjall Loop
            raceIntervalF = setInterval(() => {
                progF += 1.5;
                if(progF > 100) progF = 100;

                els.f.bar.style.width = progF + "%";
                els.f.pct.innerText = Math.round(progF) + "%";

                if(progF > 10) els.f.found.style.opacity = '1';
                
                if(progF > 15 && progF < 75) {
                    const h = ((progF - 15) / 60) * 80;
                    els.f.mod.style.height = h + "px";
                } else if (progF >= 75) {
                    els.f.mod.style.height = "80px";
                }

                if(progF > 80) {
                    els.f.roof.style.opacity = '1';
                    els.f.roof.style.transform = 'translateY(0)';
                }

                if (progF > 30 && progF < 32) els.f.status.innerHTML = `<i data-lucide="check" class="w-3 h-3"></i> Fab Complete`;
                if (progF > 70 && progF < 72) els.f.status.innerHTML = `<i data-lucide="check" class="w-3 h-3"></i> Assembled`;
                if (progF >= 32) lucide.createIcons();

                if (progF >= 100) clearInterval(raceIntervalF);
            }, 50);
        }

        function resetRace() {
            clearInterval(raceIntervalM);
            clearInterval(raceIntervalF);
            isRacing = false;
            
            // Reset logic
            ['m-foundation','m-frame','m-walls','m-roof','f-foundation','f-roof'].forEach(id => {
                const el = document.getElementById(id);
                el.style.opacity = '0';
                if(id.includes('roof')) el.style.transform = id.includes('m') ? 'translateY(16px)' : 'translateY(-40px)';
            });
            document.getElementById('f-module').style.height = '0px';
            
            document.getElementById('manual-bar').style.width = "0%";
            document.getElementById('manual-pct').innerText = "0%";
            document.getElementById('manual-status').innerHTML = "";
            document.getElementById('fjall-bar').style.width = "0%";
            document.getElementById('fjall-pct').innerText = "0%";
            document.getElementById('fjall-status').innerHTML = "";

            document.getElementById('start-btn').classList.remove('hidden');
            document.getElementById('reset-btn').classList.add('hidden');
            document.getElementById('reset-btn').classList.remove('flex');
        }

        // --- Configurator ---
        const models = {
            villa: { name: "Resort Villa", desc: "Luxury", color: "#10B981", stats: { speed: 80, res: 90, eco: 85 }, baseTime: 21, tradTime: 180, icon: 'palmtree', price: 45000 },
            home: { name: "Eco Home", desc: "Standard", color: "#3B82F6", stats: { speed: 95, res: 85, eco: 90 }, baseTime: 7, tradTime: 90, icon: 'home', price: 12000 },
            dorm: { name: "Urban Dorm", desc: "Density", color: "#F59E0B", stats: { speed: 85, res: 95, eco: 80 }, baseTime: 14, tradTime: 120, icon: 'building-2', price: 25000 }
        };

        const sizes = {
            s: { label: "Studio", sub: "36m²", mult: 1 },
            m: { label: "2-Bed", sub: "54m²", mult: 1.4 },
            l: { label: "Family", sub: "72m²", mult: 1.8 }
        };

        const envs = {
            tropical: { label: "Tropical", icon: "sun", color1: "#FDB813", color2: "#059669" },
            urban: { label: "Urban", icon: "building", color1: "#60A5FA", color2: "#1E293B" },
            nordic: { label: "Nordic", icon: "snowflake", color1: "#A78BFA", color2: "#0F172A" }
        };

        let activeModel = 'villa';
        let activeSize = 'm';
        let activeEnv = 'nordic';
        let isXray = false;
        let isExploded = false;

        function renderControls() {
            // Environments
            const eContainer = document.getElementById('env-selector');
            eContainer.innerHTML = '';
            Object.entries(envs).forEach(([key, data]) => {
                const isActive = activeEnv === key;
                const btn = document.createElement('button');
                btn.className = `flex flex-col items-center justify-center p-3 rounded-xl border transition-all ${isActive ? 'bg-white/10 border-white/30 text-white' : 'bg-transparent border-transparent text-gray-500 hover:bg-white/5'}`;
                btn.onclick = () => { activeEnv = key; updateStudio(); renderControls(); };
                btn.innerHTML = `
                    <i data-lucide="${data.icon}" class="w-5 h-5 mb-1"></i>
                    <span class="text-[10px] font-bold uppercase">${data.label}</span>
                `;
                eContainer.appendChild(btn);
            });

            // Models
            const mContainer = document.getElementById('model-selector');
            mContainer.innerHTML = '';
            Object.entries(models).forEach(([key, data]) => {
                const isActive = activeModel === key;
                const div = document.createElement('div');
                div.className = `cursor-pointer p-3 rounded-2xl border transition-all duration-300 flex justify-between items-center group ${isActive ? 'bg-white/10 border-white/20 shadow-lg' : 'bg-transparent border-transparent hover:bg-white/5'}`;
                div.onclick = () => { activeModel = key; updateStudio(); renderControls(); };
                div.innerHTML = `
                    <div class="flex items-center gap-3">
                        <div class="w-10 h-10 icon-squircle flex items-center justify-center transition-transform group-hover:scale-105 ${isActive ? 'bg-gradient-to-br from-white to-gray-200 text-black shadow-lg' : 'bg-white/5 text-gray-500'}">
                            <i data-lucide="${data.icon}" class="w-4 h-4"></i>
                        </div>
                        <div>
                            <div class="font-bold text-sm ${isActive ? 'text-white' : 'text-gray-500'}">${data.name}</div>
                            <div class="text-[10px] text-gray-600 uppercase tracking-wider font-bold">${data.desc}</div>
                        </div>
                    </div>
                    ${isActive ? '<div class="w-2 h-2 rounded-full bg-emerald-400 shadow-[0_0_8px_#34D399]"></div>' : ''}
                `;
                mContainer.appendChild(div);
            });

            // Sizes
            const sContainer = document.getElementById('size-selector');
            sContainer.innerHTML = '';
            Object.entries(sizes).forEach(([key, data]) => {
                const isActive = activeSize === key;
                const btn = document.createElement('button');
                btn.className = `w-full p-3 rounded-xl border text-left flex justify-between items-center transition-all ${isActive ? 'bg-blue-600 border-blue-500/50 text-white shadow-lg shadow-blue-900/20' : 'bg-white/5 border-transparent text-gray-500 hover:bg-white/10'}`;
                btn.onclick = () => { activeSize = key; updateStudio(); renderControls(); };
                btn.innerHTML = `<span class="font-bold text-xs">${data.label}</span><span class="text-[10px] opacity-70 font-mono">${data.sub}</span>`;
                sContainer.appendChild(btn);
            });
            lucide.createIcons();
        }

        function toggleXray() {
            isXray = !isXray;
            document.getElementById('xray-text').innerText = isXray ? "X-RAY ON" : "X-RAY OFF";
            document.getElementById('xray-btn').classList.toggle('bg-white/20');
            document.getElementById('xray-btn').classList.toggle('text-emerald-400');
            updateVisual();
        }

        function toggleExploded() {
            isExploded = !isExploded;
            document.getElementById('exploded-text').innerText = isExploded ? "IMPLODE VIEW" : "EXPLODED VIEW";
            document.getElementById('exploded-btn').classList.toggle('bg-white/20');
            document.getElementById('exploded-btn').classList.toggle('text-emerald-400');
            updateVisual();
        }

        function updateVisual() {
            const color = models[activeModel].color;
            const sizeMult = sizes[activeSize].mult;
            const width = 140 * (sizeMult * 0.8);
            
            const stroke = isXray ? '#94a3b8' : color;
            const fill = isXray ? 'url(#studs)' : '#e2e8f0';
            const opacity = isXray ? '0.6' : '1';

            // Background update
            const envData = envs[activeEnv];
            document.getElementById('visualizer-card').style.background = `linear-gradient(to bottom, ${envData.color2}, #000)`;
            
            // Env BG Elements
            let envSVG = '';
            if (activeEnv === 'tropical') {
                 envSVG = `<circle cx="350" cy="50" r="30" fill="#FDB813" filter="url(#glow-sun)" opacity="0.8"/>
                           <path d="M50 220 Q60 150 20 120" stroke="#059669" stroke-width="4" fill="none" opacity="0.3"/>`;
            } else if (activeEnv === 'urban') {
                envSVG = `<rect x="50" y="100" width="40" height="150" fill="#1E293B" opacity="0.5"/>
                          <rect x="300" y="80" width="60" height="170" fill="#1E293B" opacity="0.3"/>`;
            } else {
                 envSVG = `<circle cx="50" cy="50" r="20" fill="#fff" filter="url(#glow-moon)" opacity="0.6"/>`;
            }

            // Building classes
            const roofClass = isExploded ? 'explode-roof' : 'implode';
            const wallClass = isExploded ? 'explode-walls' : 'implode';

            const svg = `
                <svg width="100%" height="100%" viewBox="0 0 400 300" class="drop-shadow-2xl" preserveAspectRatio="xMidYMid meet">
                    <defs>
                        <pattern id="studs" x="0" y="0" width="8" height="8" patternUnits="userSpaceOnUse">
                            <line x1="4" y1="0" x2="4" y2="8" stroke="#94a3b8" stroke-width="0.5" />
                        </pattern>
                        <filter id="glow-${activeModel}">
                            <feGaussianBlur stdDeviation="20" result="coloredBlur"/>
                            <feMerge>
                                <feMergeNode in="coloredBlur"/>
                                <feMergeNode in="SourceGraphic"/>
                            </feMerge>
                        </filter>
                        <filter id="glow-sun"><feGaussianBlur stdDeviation="10"/></filter>
                        <filter id="glow-moon"><feGaussianBlur stdDeviation="5"/></filter>
                    </defs>
                    
                    ${envSVG}

                    <g transform="translate(200 220)">
                        <!-- Floor -->
                        <ellipse cx="0" cy="0" rx="${width}" ry="15" fill="#1e293b" />
                        
                        <!-- Structure Group -->
                        <g class="${wallClass}">
                            <rect x="-${width/2}" y="-100" width="${width}" height="100" 
                                fill="${fill}" stroke="${stroke}" stroke-width="${isXray ? 1 : 0}" opacity="${opacity}" rx="2" />
                            
                            ${isXray ? `
                                <line x1="-${width/2}" y1="-50" x2="${width/2}" y2="-50" stroke="${color}" stroke-width="0.5" />
                                <line x1="0" y1="-100" x2="0" y2="0" stroke="${color}" stroke-width="0.5" />
                            ` : ''}

                            ${!isXray ? `
                                <rect x="-20" y="-60" width="40" height="60" fill="#bae6fd" opacity="0.9" />
                                <rect x="-${width/3}" y="-70" width="20" height="20" fill="#bae6fd" opacity="0.9" />
                                <rect x="${width/3 - 20}" y="-70" width="20" height="20" fill="#bae6fd" opacity="0.9" />
                            ` : ''}
                        </g>

                        <!-- Roof Group -->
                        <g class="${roofClass}">
                            ${activeModel === 'villa' 
                                ? `<path d="M-${width/2 + 10} -100 L0 -140 L${width/2 + 10} -100 Z" fill="${isXray ? 'none' : color}" stroke="${stroke}" stroke-width="2" />`
                                : activeModel === 'home'
                                ? `<path d="M-${width/2} -100 L${width/2} -120 L${width/2} -100 Z" fill="${isXray ? 'none' : color}" stroke="${stroke}" stroke-width="2" />`
                                : `<rect x="-${width/2}" y="-110" width="${width}" height="10" fill="${isXray ? 'none' : color}" stroke="${stroke}" stroke-width="2" />`
                            }
                        </g>
                    </g>
                </svg>
            `;
            document.getElementById('visual-container').innerHTML = svg;
        }

        function updateStudio() {
            const m = models[activeModel];
            const s = sizes[activeSize];

            // Update Bars
            document.getElementById('bar-speed').style.width = m.stats.speed + "%";
            document.getElementById('val-speed').innerText = m.stats.speed;
            
            document.getElementById('bar-res').style.width = m.stats.res + "%";
            document.getElementById('val-res').innerText = m.stats.res;
            
            document.getElementById('bar-eco').style.width = m.stats.eco + "%";
            document.getElementById('val-eco').innerText = m.stats.eco;

            // Calculations
            const estFjall = Math.ceil(m.baseTime * s.mult);
            const estTrad = Math.ceil(m.tradTime * s.mult);
            const cost = Math.round(m.price * s.mult);
            
            document.getElementById('stat-time').innerText = estFjall + " Days";
            document.getElementById('time-saved').innerText = (estTrad - estFjall) + "d";
            document.getElementById('est-cost').innerText = "$" + cost.toLocaleString();

            const score = Math.round(((m.stats.speed + m.stats.res + m.stats.eco) / 3) - (activeSize === 'l' ? 5 : 0));
            animateScore(score);

            updateVisual();
        }

        function animateScore(target) {
            const el = document.getElementById('eff-score');
            const ring = document.getElementById('score-ring');
            const circumference = 125.6; // 2 * pi * 20
            
            let start = parseInt(el.innerText);
            if (isNaN(start)) start = 0;
            const duration = 1000;
            const startTime = performance.now();

            function update(currentTime) {
                const elapsed = currentTime - startTime;
                const progress = Math.min(elapsed / duration, 1);
                const current = Math.floor(start + (target - start) * progress);
                
                el.innerText = current;
                
                const offset = circumference - (current / 100) * circumference;
                ring.style.strokeDashoffset = offset;

                if (progress < 1) requestAnimationFrame(update);
            }
            requestAnimationFrame(update);
        }

        function scrollToId(id) {
            document.getElementById(id).scrollIntoView({ behavior: 'smooth' });
        }

        renderControls();
        updateStudio();
    </script>
</body>
</html>
